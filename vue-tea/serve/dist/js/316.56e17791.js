"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[316],{6830:function(e,s,t){t.d(s,{Z:function(){return l}});var o=function(){var e=this,s=e._self._c;return s("header",[s("div",[s("i",{staticClass:"iconfont icon-31fanhui1",on:{click:e.goBack}})]),s("div",[s("span",[e._t("title",(function(){return[e._v("登录")]}))],2)]),s("div",[s("i",{staticClass:"iconfont icon-home",on:{click:e.goHome}})])])},n=[],r=(t(7658),{name:"CommonHeader",methods:{goBack(){"/address"===this.$route.path&&"select"!==this.$route.query.type?this.$router.push("/mine").catch((()=>{})):this.$router.back()},goHome(){this.$router.push("/")}}}),i=r,u=t(1001),a=(0,u.Z)(i,o,n,!1,null,"4dbb2d1a",null),l=a.exports},316:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});var o=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login container"},[s("CommonHeader"),s("section",[s("div",{staticClass:"login-tel"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTel,expression:"userTel"}],attrs:{type:"text",placeholder:"请输入手机号",pattern:"[0-9]{11}"},domProps:{value:e.userTel},on:{input:function(s){s.target.composing||(e.userTel=s.target.value)}}})]),s("div",{staticClass:"login-password"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userPassword,expression:"userPassword"}],attrs:{type:"password",placeholder:"请输入密码",pattern:"[0-9]*"},domProps:{value:e.userPassword},on:{input:function(s){s.target.composing||(e.userPassword=s.target.value)}}})]),s("div",{staticClass:"login-in",on:{click:e.login}},[e._v("登录")]),s("div",{staticClass:"login-tab"},[s("span",{on:{click:e.toCodeLogin}},[e._v("短信登录")]),s("span",{on:{click:e.toFindIndex}},[e._v("找回密码")]),s("span",{on:{click:e.toRegister}},[e._v("快速注册")])])]),s("TabBar")],1)},n=[],r=(t(4837),t(9146)),i=(t(7658),t(9608)),u=t(6830),a=t(918),l=t(629),d={name:"PwdLoginView",components:{CommonHeader:u.Z,TabBar:i.Z},data(){return{userTel:"",userPassword:""}},computed:{...(0,l.rn)({loginRules:e=>e.user.loginRules})},methods:{...(0,l.OI)(["LOGIN"]),toCodeLogin(){this.$router.push("/login")},toRegister(){this.$router.push("/login/register")},toFindIndex(){this.$router.push("/login/findIndex")},async login(){if(!this.loginRules.userTel.rule.test(this.userTel))return void(0,r.Z)(this.loginRules.userTel.msg);if(!this.loginRules.userPassword.rule.test(this.userPassword))return void(0,r.Z)(this.loginRules.userPassword.msg);let{data:e}=await(0,a.WW)(this.userTel,this.userPassword);(0,r.Z)(e.data.msg),e.data.success&&(this.LOGIN(e.data.userinfo),this.$router.push("/mine"))},enterLogin(e){13===e.keyCode&&this.login()}},activated(){window.addEventListener("keyup",this.enterLogin)},deactivated(){window.removeEventListener("keyup",this.enterLogin,!1)}},c=d,g=t(1001),p=(0,g.Z)(c,o,n,!1,null,"2db00132",null),h=p.exports},918:function(e,s,t){t.d(s,{Jq:function(){return a},WW:function(){return n},fe:function(){return r},hd:function(){return i},oQ:function(){return l},vt:function(){return u}});var o=t(7245);const n=(e,s)=>o.Z.post("/userLogin",{userTel:e,userPwd:s}),r=e=>o.Z.post("/getcode",{userTel:e}),i=(e,s)=>o.Z.post("/codeLogin",{userTel:e,msgCode:s}),u=(e,s,t)=>o.Z.post("/Register",{userTel:e,msgCode:s,userPwd:t}),a=(e,s)=>o.Z.post("/findTel",{userTel:e,msgCode:s}),l=(e,s)=>o.Z.post("/resetPassword",{userTel:e,userPwd:s})}}]);
//# sourceMappingURL=316.56e17791.js.map
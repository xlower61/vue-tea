{"version":3,"file":"js/76.fa3d8806.js","mappings":"yJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACA,EAAG,IAAI,CAACE,YAAY,wCAAwCC,GAAG,CAAC,MAAQL,EAAIM,UAAUJ,EAAG,OAAO,CAACF,EAAIO,GAAG,SAASL,EAAG,OAAO,CAACG,GAAG,CAAC,MAAQL,EAAIQ,YAAY,CAACR,EAAIO,GAAGP,EAAIS,GAAGT,EAAIU,MAAQ,KAAO,WAAWR,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,eAAe,CAACS,MAAM,CAAC,MAAQX,EAAIY,eAAeP,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOb,EAAIc,qBAAqBd,EAAIY,cAAc,KAAKV,EAAG,OAAO,CAACF,EAAIO,GAAG,SAAS,GAAGL,EAAG,KAAKF,EAAIe,GAAIf,EAAIgB,UAAU,SAASC,GAAM,OAAOf,EAAG,KAAK,CAACgB,IAAID,EAAKE,IAAI,CAACjB,EAAG,MAAM,CAACA,EAAG,eAAe,CAACkB,MAAM,CAACC,MAAOJ,EAAKK,QAASC,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKR,EAAM,UAAWO,EAAI,EAAEE,WAAW,mBAAmB,GAAGxB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASR,MAAOJ,EAAKa,aAAcJ,WAAW,sBAAsBf,MAAM,CAAC,IAAM,QAAQT,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACF,EAAIO,GAAGP,EAAIS,GAAGQ,EAAKc,eAAe7B,EAAG,IAAI,CAACE,YAAY,yBAAyBC,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOb,EAAIgC,aAAa,CAAEC,OAAQ,EAAGd,GAAIF,EAAKE,IAAK,OAAOjB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACF,EAAIO,GAAG,IAAIP,EAAIS,GAAGQ,EAAKiB,kBAAkBhC,EAAG,MAAM,CAACA,EAAG,cAAc,CAACS,MAAM,CAAC,QAAU,GAAG,IAAM,KAAKN,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOb,EAAImC,WAAW,CAAEC,IAAKvB,EAAQI,QAAO,GAAGG,MAAM,CAACC,MAAOJ,EAAKoB,UAAWd,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKR,EAAM,YAAaO,EAAI,EAAEE,WAAW,qBAAqB,QAAQ,IAAG,GAAK1B,EAAIgB,SAASsB,OAAkEtC,EAAIuC,KAA9DrC,EAAG,MAAM,CAACE,YAAY,UAAU,CAACJ,EAAIO,GAAG,oBAA6BL,EAAG,SAAS,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,eAAe,CAACS,MAAM,CAAC,MAAQX,EAAIY,eAAeP,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOb,EAAIc,qBAAqBd,EAAIY,cAAc,MAAM,GAAGV,EAAG,MAAM,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASR,OAAQrB,EAAIU,MAAOgB,WAAW,WAAWtB,YAAY,SAAS,CAACF,EAAG,MAAM,CAACF,EAAIO,GAAG,QAAQL,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACJ,EAAIO,GAAGP,EAAIS,GAAGT,EAAIwC,MAAMJ,QAAQpC,EAAIO,GAAG,WAAWL,EAAG,MAAM,CAACA,EAAG,OAAO,CAACF,EAAIO,GAAG,SAASL,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACJ,EAAIO,GAAG,IAAIP,EAAIS,GAAGT,EAAIwC,MAAMC,MAAMC,QAAQ,IAAI,gBAAgBxC,EAAG,MAAM,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASR,OAAQrB,EAAIU,MAAOgB,WAAW,WAAWtB,YAAY,QAAQC,GAAG,CAAC,MAAQL,EAAI2C,UAAU,CAAC3C,EAAIO,GAAG,SAASL,EAAG,MAAM,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASR,MAAOrB,EAAIU,MAAOgB,WAAW,UAAUtB,YAAY,QAAQC,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOb,EAAIgC,aAAa,CAAEC,OAAQ,EAAGd,GAAI,OAAQ,IAAI,CAACnB,EAAIO,GAAG,WAC9gF,EACIqC,EAAkB,G,6BC8DtB,GACAhB,KAAA,WACAiB,OACA,OACAnC,OAAA,EAEA,EACAoC,SAAA,KACAC,EAAAA,EAAAA,IAAA,CACA/B,SAAAgC,GAAAA,EAAAC,KAAAjC,SACAkC,YAAAF,GAAAA,EAAAG,QAAAD,kBAEAE,EAAAA,EAAAA,IAAA,2CAEAC,QAAA,KACAC,EAAAA,EAAAA,IAAA,8CACAC,EAAAA,EAAAA,IAAA,kEAEAjD,SACA,KAAAkD,QAAAC,MACA,EAEAjD,YACA,KAAAE,OAAA,KAAAA,KACA,EAEA,gBAEA,YAAA8B,MAAAJ,IACA,YAAAsB,OAAA,aAEA,IAAAb,KAAAc,SAAAC,EAAAA,EAAAA,IAAA,KAAAC,cACAF,EAAAd,KAAAiB,UACA,KAAAC,cAAAJ,EAAAd,KAAAmB,UACA,KAAAR,QAAAS,KAAA,CAAArC,KAAA,UAEA,GAEAsC,MAAA,CACAhB,cACAiB,eAAAC,QAAA,cAAAC,KAAAC,UAAA,KAAApB,YAAAqB,QAAAC,GAAA,GAAAA,EAAAC,YAAA,IACA,GAGAC,YACA,KAAAC,gBACA,KAAAC,kBACA,GC/GwP,I,UCQpPC,GAAY,OACd,EACA9E,EACA6C,GACA,EACA,KACA,WACA,MAIF,EAAeiC,EAAiB,O","sources":["webpack://vue-tea/./src/views/CartView.vue","webpack://vue-tea/src/views/CartView.vue","webpack://vue-tea/./src/views/CartView.vue?2c8e","webpack://vue-tea/./src/views/CartView.vue?2655"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart container\"},[_c('header',[_c('i',{staticClass:\"iconfont icon-31fanhui1 search-return\",on:{\"click\":_vm.goBack}}),_c('span',[_vm._v(\"购物车\")]),_c('span',{on:{\"click\":_vm.isShowNav}},[_vm._v(_vm._s(_vm.isNav ? '完成' : '编辑'))])]),_c('section',[_c('div',{staticClass:\"cart-title\"},[_c('van-checkbox',{attrs:{\"value\":_vm.isSelectedAll},on:{\"click\":function($event){return _vm.FOLLOW_ALL_CHECK_BTN(_vm.isSelectedAll)}}}),_c('span',[_vm._v(\"商品\")])],1),_c('ul',_vm._l((_vm.cartList),function(item){return _c('li',{key:item.id},[_c('div',[_c('van-checkbox',{model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}})],1),_c('div',{staticClass:\"goods\"},[_c('div',{staticClass:\"good-img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.goods_imgURL),expression:\"item.goods_imgURL\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"goods-content\"},[_c('div',{staticClass:\"goods-title\"},[_c('span',[_vm._v(_vm._s(item.goods_name))]),_c('i',{staticClass:\"iconfont icon-lajitong\",on:{\"click\":function($event){return _vm.DELETE_GOODS({ method: 0, id: item.id })}}})]),_c('div',{staticClass:\"goods-price\"},[_c('p',[_vm._v(\"￥\"+_vm._s(item.goods_price))])]),_c('div',[_c('van-stepper',{attrs:{\"integer\":\"\",\"min\":\"1\"},on:{\"change\":function($event){return _vm.CHANGE_NUM({ num: $event, item })}},model:{value:(item.goods_num),callback:function ($$v) {_vm.$set(item, \"goods_num\", $$v)},expression:\"item.goods_num\"}})],1)])])])}),0),(!_vm.cartList.length)?_c('div',{staticClass:\"nolist\"},[_vm._v(\"暂未添加商品，去逛逛吧！\")]):_vm._e()]),_c('footer',[_c('div',{staticClass:\"radio\"},[_c('van-checkbox',{attrs:{\"value\":_vm.isSelectedAll},on:{\"click\":function($event){return _vm.FOLLOW_ALL_CHECK_BTN(_vm.isSelectedAll)}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isNav),expression:\"!isNav\"}],staticClass:\"total\"},[_c('div',[_vm._v(\" 共有 \"),_c('span',{staticClass:\"total-active\"},[_vm._v(_vm._s(_vm.total.num))]),_vm._v(\" 件商品 \")]),_c('div',[_c('span',[_vm._v(\"总计：\")]),_c('span',{staticClass:\"total-active\"},[_vm._v(\"￥\"+_vm._s(_vm.total.price.toFixed(2))+\" + 0茶币\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isNav),expression:\"!isNav\"}],staticClass:\"order\",on:{\"click\":_vm.goOrder}},[_vm._v(\"去结算\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isNav),expression:\"isNav\"}],staticClass:\"order\",on:{\"click\":function($event){return _vm.DELETE_GOODS({ method: 1, id: 'all' })}}},[_vm._v(\"删除\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"cart container\">\n    <header>\n      <i class=\"iconfont icon-31fanhui1 search-return\" @click=\"goBack\"></i>\n      <span>购物车</span>\n      <span @click=\"isShowNav\">{{ isNav ? '完成' : '编辑' }}</span>\n    </header>\n\n    <section>\n      <div class=\"cart-title\">\n        <van-checkbox :value=\"isSelectedAll\" @click=\"FOLLOW_ALL_CHECK_BTN(isSelectedAll)\"></van-checkbox>\n        <span>商品</span>\n      </div>\n      <ul>\n        <li v-for=\"item in cartList\" :key=\"item.id\">\n          <div>\n            <van-checkbox v-model=\"item.checked\"></van-checkbox>\n          </div>\n          <div class=\"goods\">\n            <div class=\"good-img\">\n              <img v-lazy=\"item.goods_imgURL\" alt=\"\" />\n            </div>\n            <div class=\"goods-content\">\n              <div class=\"goods-title\">\n                <span>{{ item.goods_name }}</span>\n                <i class=\"iconfont icon-lajitong\" @click=\"DELETE_GOODS({ method: 0, id: item.id })\"></i>\n              </div>\n              <div class=\"goods-price\">\n                <p>￥{{ item.goods_price }}</p>\n              </div>\n              <div>\n                <van-stepper v-model=\"item.goods_num\" integer min=\"1\" @change=\"CHANGE_NUM({ num: $event, item })\" />\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n      <div class=\"nolist\" v-if=\"!cartList.length\">暂未添加商品，去逛逛吧！</div>\n    </section>\n\n    <footer>\n      <div class=\"radio\">\n        <van-checkbox :value=\"isSelectedAll\" @click=\"FOLLOW_ALL_CHECK_BTN(isSelectedAll)\"></van-checkbox>\n      </div>\n      <div class=\"total\" v-show=\"!isNav\">\n        <div>\n          共有\n          <span class=\"total-active\">{{ total.num }}</span>\n          件商品\n        </div>\n        <div>\n          <span>总计：</span>\n          <span class=\"total-active\">￥{{ total.price.toFixed(2) }} + 0茶币</span>\n        </div>\n      </div>\n      <div class=\"order\" v-show=\"!isNav\" @click=\"goOrder\">去结算</div>\n      <div class=\"order\" v-show=\"isNav\" @click=\"DELETE_GOODS({ method: 1, id: 'all' })\">删除</div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport { addOrderAPI } from '@/common/api/OrderAPI'\nimport { mapActions, mapGetters, mapMutations, mapState } from 'vuex'\nexport default {\n  name: 'CartView',\n  data() {\n    return {\n      isNav: false\n    }\n  },\n  computed: {\n    ...mapState({\n      cartList: (state) => state.cart.cartList,\n      addressList: (state) => state.address.addressList\n    }),\n    ...mapGetters(['isSelectedAll', 'total', 'selectedList'])\n  },\n  methods: {\n    ...mapMutations(['FOLLOW_ALL_CHECK_BTN', 'INIT_ORDER_ID']),\n    ...mapActions(['GET_CART_DATA', 'GET_ADDRESS_DATA', 'DELETE_GOODS', 'CHANGE_NUM']),\n    //返回上一级\n    goBack() {\n      this.$router.back()\n    },\n    //点击编辑或者完成\n    isShowNav() {\n      this.isNav = !this.isNav\n    },\n    //去结算页面\n    async goOrder() {\n      //没选中商品\n      if (this.total.num === 0) {\n        return this.$toast('请选择至少一件商品')\n      }\n      let { data: res } = await addOrderAPI(this.selectedList)\n      if (res.data.success) {\n        this.INIT_ORDER_ID(res.data.order_id)\n        this.$router.push({ name: 'Order' })\n      }\n    }\n  },\n  watch: {\n    addressList() {\n      sessionStorage.setItem('tea-address', JSON.stringify(this.addressList.filter((v) => v.isDefault == 1)[0]))\n    }\n  },\n\n  activated() {\n    this.GET_CART_DATA()\n    this.GET_ADDRESS_DATA()\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\nheader {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 1.6rem;\n  color: #fff;\n  background-color: #b0352f;\n  padding: 0 0.4267rem;\n  i {\n    font-size: 0.64rem;\n  }\n  span {\n    font-size: 0.4267rem;\n  }\n}\n\nsection {\n  overflow: auto;\n  background-color: #f5f5f5;\n  .cart-title {\n    display: flex;\n    padding: 0.24rem 0.3733rem;\n    align-items: center;\n    span {\n      padding: 0 0.3rem;\n      font-size: 0.5333rem;\n      font-weight: 500;\n    }\n  }\n  ul {\n    display: flex;\n    flex-direction: column;\n    li {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 0.08rem 0.5333rem;\n      background-color: #fff;\n      margin: 0.2133rem 0;\n      img {\n        width: 1.9733rem;\n        height: 1.9733rem;\n      }\n\n      .goods {\n        flex: 1;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding-left: 0.4rem;\n\n        .goods-content {\n          display: flex;\n          flex: 1;\n          justify-content: space-between;\n          flex-direction: column;\n          padding-left: 0.4rem;\n          .goods-title {\n            display: flex;\n            justify-content: space-between;\n            padding-top: 0.16rem;\n\n            i {\n              font-size: 0.5867rem;\n            }\n            span {\n              font-size: 0.32rem;\n              padding-right: 0.3733rem;\n            }\n          }\n          .goods-price {\n            color: #b0352f;\n            font-size: 0.3733rem;\n            padding: 0.16rem 0;\n          }\n          /deep/ .van-stepper {\n            text-align: right;\n          }\n        }\n      }\n    }\n  }\n  .nolist {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 2.6667rem;\n    color: #aaa;\n    font-size: 0.48rem;\n  }\n}\n\nfooter {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 1.38rem;\n  border-top: 0.0533rem solid #ccc;\n  box-sizing: border-box;\n  .radio {\n    padding: 0 0.4rem;\n  }\n  .total {\n    flex: 1;\n    font-size: 0.32rem;\n    .total-active {\n      color: #b0352f;\n    }\n  }\n  .order {\n    line-height: 1.38rem;\n    width: 1.3333rem;\n    font-size: 0.4267rem;\n    padding: 0 0.5333rem;\n    color: #fff;\n    background-color: #b0352f;\n    text-align: center;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartView.vue?vue&type=template&id=cbcce9d2&scoped=true&\"\nimport script from \"./CartView.vue?vue&type=script&lang=js&\"\nexport * from \"./CartView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartView.vue?vue&type=style&index=0&id=cbcce9d2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cbcce9d2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","goBack","_v","isShowNav","_s","isNav","attrs","isSelectedAll","$event","FOLLOW_ALL_CHECK_BTN","_l","cartList","item","key","id","model","value","checked","callback","$$v","$set","expression","directives","name","rawName","goods_imgURL","goods_name","DELETE_GOODS","method","goods_price","CHANGE_NUM","num","goods_num","length","_e","total","price","toFixed","goOrder","staticRenderFns","data","computed","mapState","state","cart","addressList","address","mapGetters","methods","mapMutations","mapActions","$router","back","$toast","res","addOrderAPI","selectedList","success","INIT_ORDER_ID","order_id","push","watch","sessionStorage","setItem","JSON","stringify","filter","v","isDefault","activated","GET_CART_DATA","GET_ADDRESS_DATA","component"],"sourceRoot":""}
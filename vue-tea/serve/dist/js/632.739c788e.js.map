{"version":3,"file":"js/632.739c788e.js","mappings":"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","sources":["webpack://vue-tea/./src/components/common/CommonHeader.vue","webpack://vue-tea/src/components/common/CommonHeader.vue","webpack://vue-tea/./src/components/common/CommonHeader.vue?3404","webpack://vue-tea/./src/components/common/CommonHeader.vue?921a","webpack://vue-tea/./src/views/login/RegisterView.vue","webpack://vue-tea/src/views/login/RegisterView.vue","webpack://vue-tea/./src/views/login/RegisterView.vue?924f","webpack://vue-tea/./src/views/login/RegisterView.vue?e829","webpack://vue-tea/./src/common/api/loginAPI.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('header',[_c('div',[_c('i',{staticClass:\"iconfont icon-31fanhui1\",on:{\"click\":_vm.goBack}})]),_c('div',[_c('span',[_vm._t(\"title\",function(){return [_vm._v(\"登录\")]})],2)]),_c('div',[_c('i',{staticClass:\"iconfont icon-home\",on:{\"click\":_vm.goHome}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <header>\n    <div>\n      <i class=\"iconfont icon-31fanhui1\" @click=\"goBack\"></i>\n    </div>\n    <div>\n      <!-- 添加插槽默认使登录 -->\n      <span>\n        <slot name=\"title\">登录</slot>\n      </span>\n    </div>\n    <div>\n      <i class=\"iconfont icon-home\" @click=\"goHome\"></i>\n    </div>\n  </header>\n</template>\n\n<script>\nexport default {\n  name: 'CommonHeader',\n  methods: {\n    goBack() {\n      if (this.$route.path === '/address' && this.$route.query.type !== 'select') {\n        this.$router.push('/mine').catch(() => {})\n      } else {\n        this.$router.back()\n      }\n    },\n    goHome() {\n      this.$router.push('/')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nheader {\n  width: 100%;\n  height: 1.1733rem;\n  background-color: #b0352f;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #fff;\n  font-weight: 400;\n  span {\n    font-size: 0.4267rem;\n  }\n  i {\n    font-size: 0.5867rem;\n    padding: 0 0.4rem;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonHeader.vue?vue&type=template&id=4dbb2d1a&scoped=true&\"\nimport script from \"./CommonHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommonHeader.vue?vue&type=style&index=0&id=4dbb2d1a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4dbb2d1a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"register container\"},[_c('CommonHeader',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" 注册 \")]},proxy:true}])}),_c('section',[_c('div',{staticClass:\"register-tel\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userTel),expression:\"userTel\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\",\"pattern\":\"[0-9]{11}\"},domProps:{\"value\":(_vm.userTel)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userTel=$event.target.value}}})]),_c('div',{staticClass:\"register-code\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msgCode),expression:\"msgCode\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入短信验证码\",\"pattern\":\"[0-9]*\"},domProps:{\"value\":(_vm.msgCode)},on:{\"input\":function($event){if($event.target.composing)return;_vm.msgCode=$event.target.value}}}),_c('button',{class:_vm.isDisable === false ? 'active' : 'noactive',attrs:{\"disabled\":_vm.isDisable},on:{\"click\":_vm.getShortCode}},[_vm._v(_vm._s(_vm.btn))])]),_c('div',{staticClass:\"register-password\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userPassword),expression:\"userPassword\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请设置密码\",\"pattern\":\"[0-9]{11}\"},domProps:{\"value\":(_vm.userPassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userPassword=$event.target.value}}})]),_c('div',{staticClass:\"register-in\",on:{\"click\":_vm.register}},[_vm._v(\"注册\")]),_vm._m(0)]),_c('TabBar')],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"register-protocol\"},[_c('span',[_vm._v(\"注册即视为同意\")]),_c('span',{staticClass:\"protocol\"},[_vm._v(\"《服务协议》\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"register container\">\n    <CommonHeader>\n      <template #title> 注册 </template>\n    </CommonHeader>\n    <section>\n      <div class=\"register-tel\">\n        <input type=\"text\" placeholder=\"请输入手机号\" pattern=\"[0-9]{11}\" v-model=\"userTel\" />\n      </div>\n      <div class=\"register-code\">\n        <input type=\"text\" placeholder=\"请输入短信验证码\" pattern=\"[0-9]*\" v-model=\"msgCode\" />\n        <button :class=\"isDisable === false ? 'active' : 'noactive'\" :disabled=\"isDisable\" @click=\"getShortCode\">{{ btn }}</button>\n      </div>\n      <div class=\"register-password\">\n        <input type=\"text\" placeholder=\"请设置密码\" pattern=\"[0-9]{11}\" v-model=\"userPassword\" />\n      </div>\n      <div class=\"register-in\" @click=\"register\">注册</div>\n      <div class=\"register-protocol\">\n        <span>注册即视为同意</span>\n        <span class=\"protocol\">《服务协议》</span>\n      </div>\n    </section>\n    <TabBar></TabBar>\n  </div>\n</template>\n\n<script>\nimport TabBar from '@/components/common/TabBar.vue'\nimport CommonHeader from '@/components/common/CommonHeader.vue'\nimport { getCodeAPI, RegisterAPI } from '@/common/api/loginAPI'\nimport { mapState } from 'vuex'\nexport default {\n  name: 'RegisterView',\n  components: { TabBar, CommonHeader },\n  data() {\n    return {\n      userTel: '',\n      userPassword: '',\n      //短信验证码\n      msgCode: '',\n      isDisable: false,\n      btn: '发送短信验证码'\n    }\n  },\n  computed: {\n    ...mapState({\n      loginRules: (state) => state.user.loginRules\n    })\n  },\n  methods: {\n    async register() {\n      //手机号验证\n      if (!this.loginRules.userTel.rule.test(this.userTel)) {\n        this.$toast(this.loginRules.userTel.msg)\n        return\n      }\n      //验证码验证\n      if (!this.loginRules.msgCode.rule.test(this.msgCode)) {\n        this.$toast(this.loginRules.msgCode.msg)\n        return\n      }\n      //密码验证\n      if (!this.loginRules.userPassword.rule.test(this.userPassword)) {\n        this.$toast(this.loginRules.userPassword.msg)\n        return\n      }\n      let { data: res } = await RegisterAPI(this.userTel, this.msgCode, this.userPassword)\n      this.$toast(res.data.msg)\n      if (res.data.success) {\n        this.$store.commit('PASSWORD_LOGIN', res.data.userinfo)\n        this.$router.push('/mine')\n      }\n    },\n    async getShortCode() {\n      //手机号验证\n      if (!this.loginRules.userTel.rule.test(this.userTel)) {\n        this.$toast(this.loginRules.userTel.msg)\n        return\n      }\n      let { data: res } = await getCodeAPI(this.userTel)\n      if (res.data.success) {\n        console.log(res.data.data)\n        this.$toast('验证码发送成功！')\n      }\n      //禁用按钮\n      this.isDisable = true\n      //倒计时\n      let timer = setInterval(() => {\n        --this.waitTime\n        this.btn = `重新发送${this.waitTime}`\n      }, 1000)\n      setTimeout(() => {\n        clearInterval(timer)\n        this.waitTime = 6\n        this.btn = '重新获取验证码'\n        this.isDisable = false\n      }, 6000)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nsection {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: #f5f5f5;\n  font-size: 0.3733rem;\n  div {\n    width: 8.9333rem;\n    height: 1.1733rem;\n    margin: 0.2667rem 0;\n  }\n  input {\n    padding: 0 0.2667rem;\n    line-height: 1.1733rem;\n    background-color: #fff;\n    border: 1.0012px solid #ccc;\n    box-sizing: border-box;\n    border-radius: 0.16rem;\n  }\n  .register-tel {\n    margin-top: 0.8rem;\n    input {\n      width: 100%;\n    }\n  }\n  .register-password {\n    input {\n      width: 100%;\n    }\n  }\n  .register-code {\n    display: flex;\n    align-items: center;\n    input {\n      flex: 1;\n      margin-right: 0.0267rem;\n    }\n    button {\n      height: 1.1733rem;\n      border: 0;\n      color: #fff;\n      border-radius: 0.16rem;\n      box-sizing: border-box;\n      font-size: 0.3733rem;\n      padding: 0 0.2667rem;\n    }\n  }\n  .register-in {\n    background-color: #b0352f;\n    line-height: 43.9988px;\n    text-align: center;\n    color: #fff;\n    border-radius: 0.16rem;\n  }\n  .register-protocol {\n    display: flex;\n    justify-content: left;\n    .protocol {\n      color: #b0352f;\n      text-decoration: underline;\n    }\n  }\n}\n.noactive {\n  background-color: #999;\n}\n.active {\n  background-color: #b0352f;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RegisterView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RegisterView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegisterView.vue?vue&type=template&id=38f02249&scoped=true&\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js&\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RegisterView.vue?vue&type=style&index=0&id=38f02249&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38f02249\",\n  null\n  \n)\n\nexport default component.exports","import request from '../request'\nexport const userLoginAPI = (tel, pwd) => {\n  return request.post(`/userLogin`, {\n    userTel: tel,\n    userPwd: pwd\n  })\n}\n\nexport const getCodeAPI = (tel) => {\n  return request.post(`/getcode`, {\n    userTel: tel\n  })\n}\n\nexport const codeLoginAPI = (tel, code) => {\n  return request.post(`/codeLogin`, {\n    userTel: tel,\n    msgCode: code\n  })\n}\n\nexport const RegisterAPI = (tel, code, pwd) => {\n  return request.post(`/Register`, {\n    userTel: tel,\n    msgCode: code,\n    userPwd: pwd\n  })\n}\n\nexport const findTelAPI = (tel, code) => {\n  return request.post(`/findTel`, {\n    userTel: tel,\n    msgCode: code\n  })\n}\n\nexport const resetPasswordAPI = (tel, pwd) => {\n  return request.post(`/resetPassword`, {\n    userTel: tel,\n    userPwd: pwd\n  })\n}\n"],"names":["render","_vm","this","_c","_self","staticClass","on","goBack","_t","_v","goHome","staticRenderFns","name","methods","$route","path","query","type","$router","push","catch","back","component","scopedSlots","_u","key","fn","proxy","directives","rawName","value","userTel","expression","attrs","domProps","$event","target","composing","msgCode","class","isDisable","getShortCode","_s","btn","userPassword","register","_m","components","TabBar","CommonHeader","data","computed","mapState","loginRules","state","user","rule","test","$toast","msg","res","RegisterAPI","success","$store","commit","userinfo","getCodeAPI","console","log","timer","setInterval","waitTime","setTimeout","clearInterval","userLoginAPI","tel","pwd","request","userPwd","codeLoginAPI","code","findTelAPI","resetPasswordAPI"],"sourceRoot":""}
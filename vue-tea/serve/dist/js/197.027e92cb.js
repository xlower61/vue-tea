"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[197],{1197:function(t,i,s){s.r(i),s.d(i,{default:function(){return f}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"list container"},[i("header",[i("div",{staticClass:"return"},[i("i",{staticClass:"iconfont icon-31fanhui1 search-return",on:{click:t.goBack}})]),t._m(0),i("div",{staticClass:"home"},[i("i",{staticClass:"iconfont icon-home",on:{click:t.goHome}})])]),i("section",[i("div",{ref:"left",staticClass:"list-l"},[i("ul",t._l(t.leftList,(function(s){return i("li",{key:s.id,class:{active:t.currentIndex==s.id},on:{click:function(i){return t.scrollToRight(s.id)}}},[t._v(t._s(s.name))])})),0)]),i("div",{ref:"right",staticClass:"list-r"},[i("div",{staticClass:"list-r-content"},[i("div",{staticClass:"view-img"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.bigpic,expression:"bigpic"}],attrs:{alt:""}})]),i("ul",t._l(t.rightList,(function(s){return i("li",{key:s.id,staticClass:"shop-list"},[i("h2",[i("div",[t._v(t._s(s.name))])]),i("ul",{staticClass:"list-content"},t._l(s.list,(function(s,e){return i("li",{key:e},[i("img",{attrs:{src:s.imgURL,alt:""}}),i("span",[t._v(t._s(s.name))])])})),0)])})),0)])])]),i("TabBar")],1)},r=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"search"},[i("i",{staticClass:"iconfont icon-search"}),i("span",[t._v("搜你喜欢...")])])}],a=(s(7658),s(9608)),l=s(7245);const c=()=>l.Z.get("/sort_list/data");var n=s(5109),h={name:"SortView",components:{TabBar:a.Z},data(){return{bigpic:"/images/tgy.jpeg",leftList:[],rightList:[],rightScroll:"",rightHeightList:[],rightY:100}},computed:{currentIndex(){return this.rightHeightList.findIndex(((t,i)=>this.rightY>=t&&this.rightY<this.rightHeightList[i+1]))}},created(){this.getData()},methods:{async getData(){let{data:t}=await c();t.sort.forEach((t=>{this.leftList.push({id:t.id,name:t.name}),this.rightList.push(t.data)})),this.$nextTick((()=>{this.scroll=new n.ZP(this.$refs.left,{movable:!1,click:!0,probeType:3,bounce:!1}),this.rightScroll=new n.ZP(this.$refs.right,{click:!0,probeType:3,bounce:!1}),this.rightHeightList.push(0);let t=100,i=this.$refs.right.getElementsByClassName("shop-list");Array.from(i).forEach((i=>{t+=i.clientHeight,this.rightHeightList.push(t)}));let s=1;this.rightScroll.on("scroll",(t=>{if(s){s=0;let i=setTimeout((()=>{this.rightY=Math.abs(t.y),s=1,clearTimeout(i)}),15)}}))}))},scrollToRight(t){this.rightScroll.scrollTo(0,-this.rightHeightList[t],500)},goBack(){this.$router.back()},goHome(){this.$router.push("./")}}},o=h,g=s(1001),u=(0,g.Z)(o,e,r,!1,null,"1ba241b2",null),f=u.exports}}]);
//# sourceMappingURL=197.027e92cb.js.map
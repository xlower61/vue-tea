"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[308],{6830:function(e,t,s){s.d(t,{Z:function(){return l}});var i=function(){var e=this,t=e._self._c;return t("header",[t("div",[t("i",{staticClass:"iconfont icon-31fanhui1",on:{click:e.goBack}})]),t("div",[t("span",[e._t("title",(function(){return[e._v("登录")]}))],2)]),t("div",[t("i",{staticClass:"iconfont icon-home",on:{click:e.goHome}})])])},o=[],n=(s(7658),{name:"CommonHeader",methods:{goBack(){"/address"===this.$route.path&&"select"!==this.$route.query.type?this.$router.push("/mine").catch((()=>{})):this.$router.back()},goHome(){this.$router.push("/")}}}),r=n,u=s(1001),a=(0,u.Z)(r,i,o,!1,null,"4dbb2d1a",null),l=a.exports},4308:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"find-index container"},[t("CommonHeader",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("找回密码")]},proxy:!0}])}),t("section",[t("div",{staticClass:"login-tel"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userTel,expression:"userTel"}],attrs:{type:"text",placeholder:"请输入手机号",pattern:"[0-9]{11}"},domProps:{value:e.userTel},on:{input:function(t){t.target.composing||(e.userTel=t.target.value)}}})]),t("div",{staticClass:"login-code"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.msgCode,expression:"msgCode"}],attrs:{type:"text",placeholder:"请输入短信验证码",pattern:"[0-9]*"},domProps:{value:e.msgCode},on:{input:function(t){t.target.composing||(e.msgCode=t.target.value)}}}),t("button",{class:!1===e.isDisable?"active":"noactive",attrs:{disabled:e.isDisable},on:{click:e.getShortCode}},[e._v(e._s(e.btn))])]),t("div",{staticClass:"login-in",on:{click:e.toNext}},[e._v("下一步")])]),t("TabBar")],1)},o=[],n=(s(4837),s(9146)),r=(s(7658),s(9608)),u=s(6830),a=s(918),l={name:"FindIndexView",components:{CommonHeader:u.Z,TabBar:r.Z},data(){return{loginRules:{userTel:{rule:/^1[3-9]\d{9}$/,msg:"手机号不能为空，且为11位数字"},msgCode:{rule:/^[0-9]{4}$/,msg:"验证码错误"}},userTel:"",isDisable:!1,btn:"获取短信验证码",waitTime:6,msgCode:""}},methods:{async toNext(){if(!this.loginRules.userTel.rule.test(this.userTel))return void(0,n.Z)(this.loginRules.userTel.msg);if(!this.loginRules.msgCode.rule.test(this.msgCode))return void(0,n.Z)(this.loginRules.msgCode.msg);let{data:e}=await(0,a.Jq)(this.userTel,this.msgCode);console.log(e),e.data.success?this.$router.push({name:"find-next",params:{userTel:this.userTel}}):(0,n.Z)(e.data.msg)},async getShortCode(){if(!this.loginRules.userTel.rule.test(this.userTel))return void(0,n.Z)(this.loginRules.userTel.msg);let{data:e}=await(0,a.fe)(this.userTel);e.data.success&&(console.log(e.data.data),(0,n.Z)("验证码发送成功！")),this.isDisable=!0;let t=setInterval((()=>{--this.waitTime,this.btn=`重新发送${this.waitTime}`}),1e3);setTimeout((()=>{clearInterval(t),this.waitTime=6,this.btn="重新获取验证码",this.isDisable=!1}),6e3)}}},d=l,c=s(1001),m=(0,c.Z)(d,i,o,!1,null,"334b9818",null),g=m.exports},918:function(e,t,s){s.d(t,{Jq:function(){return a},WW:function(){return o},fe:function(){return n},hd:function(){return r},oQ:function(){return l},vt:function(){return u}});var i=s(7245);const o=(e,t)=>i.Z.post("/userLogin",{userTel:e,userPwd:t}),n=e=>i.Z.post("/getcode",{userTel:e}),r=(e,t)=>i.Z.post("/codeLogin",{userTel:e,msgCode:t}),u=(e,t,s)=>i.Z.post("/Register",{userTel:e,msgCode:t,userPwd:s}),a=(e,t)=>i.Z.post("/findTel",{userTel:e,msgCode:t}),l=(e,t)=>i.Z.post("/resetPassword",{userTel:e,userPwd:t})}}]);
//# sourceMappingURL=308.107bddbc.js.map
{"version":3,"file":"js/308.107bddbc.js","mappings":"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","sources":["webpack://vue-tea/./src/components/common/CommonHeader.vue","webpack://vue-tea/src/components/common/CommonHeader.vue","webpack://vue-tea/./src/components/common/CommonHeader.vue?3404","webpack://vue-tea/./src/components/common/CommonHeader.vue?921a","webpack://vue-tea/./src/views/login/FindIndexView.vue","webpack://vue-tea/src/views/login/FindIndexView.vue","webpack://vue-tea/./src/views/login/FindIndexView.vue?34f3","webpack://vue-tea/./src/views/login/FindIndexView.vue?1000","webpack://vue-tea/./src/common/api/loginAPI.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('header',[_c('div',[_c('i',{staticClass:\"iconfont icon-31fanhui1\",on:{\"click\":_vm.goBack}})]),_c('div',[_c('span',[_vm._t(\"title\",function(){return [_vm._v(\"登录\")]})],2)]),_c('div',[_c('i',{staticClass:\"iconfont icon-home\",on:{\"click\":_vm.goHome}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <header>\n    <div>\n      <i class=\"iconfont icon-31fanhui1\" @click=\"goBack\"></i>\n    </div>\n    <div>\n      <!-- 添加插槽默认使登录 -->\n      <span>\n        <slot name=\"title\">登录</slot>\n      </span>\n    </div>\n    <div>\n      <i class=\"iconfont icon-home\" @click=\"goHome\"></i>\n    </div>\n  </header>\n</template>\n\n<script>\nexport default {\n  name: 'CommonHeader',\n  methods: {\n    goBack() {\n      if (this.$route.path === '/address' && this.$route.query.type !== 'select') {\n        this.$router.push('/mine').catch(() => {})\n      } else {\n        this.$router.back()\n      }\n    },\n    goHome() {\n      this.$router.push('/')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nheader {\n  width: 100%;\n  height: 1.1733rem;\n  background-color: #b0352f;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #fff;\n  font-weight: 400;\n  span {\n    font-size: 0.4267rem;\n  }\n  i {\n    font-size: 0.5867rem;\n    padding: 0 0.4rem;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonHeader.vue?vue&type=template&id=4dbb2d1a&scoped=true&\"\nimport script from \"./CommonHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommonHeader.vue?vue&type=style&index=0&id=4dbb2d1a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4dbb2d1a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"find-index container\"},[_c('CommonHeader',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"找回密码\")]},proxy:true}])}),_c('section',[_c('div',{staticClass:\"login-tel\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userTel),expression:\"userTel\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\",\"pattern\":\"[0-9]{11}\"},domProps:{\"value\":(_vm.userTel)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userTel=$event.target.value}}})]),_c('div',{staticClass:\"login-code\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msgCode),expression:\"msgCode\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入短信验证码\",\"pattern\":\"[0-9]*\"},domProps:{\"value\":(_vm.msgCode)},on:{\"input\":function($event){if($event.target.composing)return;_vm.msgCode=$event.target.value}}}),_c('button',{class:_vm.isDisable === false ? 'active' : 'noactive',attrs:{\"disabled\":_vm.isDisable},on:{\"click\":_vm.getShortCode}},[_vm._v(_vm._s(_vm.btn))])]),_c('div',{staticClass:\"login-in\",on:{\"click\":_vm.toNext}},[_vm._v(\"下一步\")])]),_c('TabBar')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"find-index container\">\n    <!-- 使用插槽 -->\n    <CommonHeader>\n      <template #title>找回密码</template>\n    </CommonHeader>\n    <section>\n      <div class=\"login-tel\">\n        <input type=\"text\" placeholder=\"请输入手机号\" pattern=\"[0-9]{11}\" v-model=\"userTel\" />\n      </div>\n      <div class=\"login-code\">\n        <input type=\"text\" placeholder=\"请输入短信验证码\" pattern=\"[0-9]*\" v-model=\"msgCode\" />\n        <button :class=\"isDisable === false ? 'active' : 'noactive'\" :disabled=\"isDisable\" @click=\"getShortCode\">{{ btn }}</button>\n      </div>\n      <div class=\"login-in\" @click=\"toNext\">下一步</div>\n    </section>\n    <TabBar></TabBar>\n  </div>\n</template>\n\n<script>\nimport TabBar from '@/components/common/TabBar.vue'\nimport CommonHeader from '@/components/common/CommonHeader.vue'\nimport { getCodeAPI, findTelAPI } from '@/common/api/loginAPI'\nimport { Toast } from 'vant'\nexport default {\n  name: 'FindIndexView',\n  components: { CommonHeader, TabBar },\n  data() {\n    return {\n      //验证规则\n      loginRules: {\n        //手机规则\n        userTel: {\n          rule: /^1[3-9]\\d{9}$/,\n          msg: '手机号不能为空，且为11位数字'\n        },\n        //验证码规则\n        msgCode: {\n          rule: /^[0-9]{4}$/,\n          msg: '验证码错误'\n        }\n      },\n      //用户输入的手机号\n      userTel: '',\n      isDisable: false,\n      btn: '获取短信验证码',\n      waitTime: 6,\n      msgCode: ''\n    }\n  },\n  methods: {\n    async toNext() {\n      if (!this.loginRules.userTel.rule.test(this.userTel)) {\n        Toast(this.loginRules.userTel.msg)\n        return\n      }\n      //验证码验证\n      if (!this.loginRules.msgCode.rule.test(this.msgCode)) {\n        Toast(this.loginRules.msgCode.msg)\n        return\n      }\n      //发送登录请求\n      let { data: res } = await findTelAPI(this.userTel, this.msgCode)\n      console.log(res)\n      if (res.data.success) {\n        this.$router.push({\n          name: 'find-next',\n          params: {\n            userTel: this.userTel\n          }\n        })\n      } else {\n        Toast(res.data.msg)\n      }\n    },\n    async getShortCode() {\n      //1、前端验证\n      //手机号验证\n      if (!this.loginRules.userTel.rule.test(this.userTel)) {\n        Toast(this.loginRules.userTel.msg)\n        return\n      }\n      let { data: res } = await getCodeAPI(this.userTel)\n      if (res.data.success) {\n        console.log(res.data.data)\n        Toast('验证码发送成功！')\n      }\n      //禁用按钮\n      this.isDisable = true\n      //倒计时\n      let timer = setInterval(() => {\n        --this.waitTime\n        this.btn = `重新发送${this.waitTime}`\n      }, 1000)\n      setTimeout(() => {\n        clearInterval(timer)\n        this.waitTime = 6\n        this.btn = '重新获取验证码'\n        this.isDisable = false\n      }, 6000)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nsection {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: #f5f5f5;\n  font-size: 0.3733rem;\n  div {\n    width: 8.9333rem;\n    height: 1.1733rem;\n    margin: 0.2667rem 0;\n  }\n  input {\n    padding: 0 0.2667rem;\n    line-height: 1.1733rem;\n    background-color: #fff;\n    border: 1.0012px solid #ccc;\n    box-sizing: border-box;\n    border-radius: 0.16rem;\n  }\n  .login-tel {\n    margin-top: 0.8rem;\n    input {\n      width: 100%;\n    }\n  }\n  .login-code {\n    display: flex;\n    align-items: center;\n    input {\n      flex: 1;\n      margin-right: 0.0267rem;\n    }\n    button {\n      height: 1.1733rem;\n      border: 0;\n      color: #fff;\n      border-radius: 0.16rem;\n      box-sizing: border-box;\n      font-size: 0.3733rem;\n      padding: 0 0.2667rem;\n    }\n  }\n  .login-in {\n    background-color: #b0352f;\n    line-height: 1.1733rem;\n    text-align: center;\n    color: #fff;\n    border-radius: 0.16rem;\n  }\n}\n.noactive {\n  background-color: #999;\n}\n.active {\n  background-color: #b0352f;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FindIndexView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FindIndexView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FindIndexView.vue?vue&type=template&id=334b9818&scoped=true&\"\nimport script from \"./FindIndexView.vue?vue&type=script&lang=js&\"\nexport * from \"./FindIndexView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FindIndexView.vue?vue&type=style&index=0&id=334b9818&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"334b9818\",\n  null\n  \n)\n\nexport default component.exports","import request from '../request'\nexport const userLoginAPI = (tel, pwd) => {\n  return request.post(`/userLogin`, {\n    userTel: tel,\n    userPwd: pwd\n  })\n}\n\nexport const getCodeAPI = (tel) => {\n  return request.post(`/getcode`, {\n    userTel: tel\n  })\n}\n\nexport const codeLoginAPI = (tel, code) => {\n  return request.post(`/codeLogin`, {\n    userTel: tel,\n    msgCode: code\n  })\n}\n\nexport const RegisterAPI = (tel, code, pwd) => {\n  return request.post(`/Register`, {\n    userTel: tel,\n    msgCode: code,\n    userPwd: pwd\n  })\n}\n\nexport const findTelAPI = (tel, code) => {\n  return request.post(`/findTel`, {\n    userTel: tel,\n    msgCode: code\n  })\n}\n\nexport const resetPasswordAPI = (tel, pwd) => {\n  return request.post(`/resetPassword`, {\n    userTel: tel,\n    userPwd: pwd\n  })\n}\n"],"names":["render","_vm","this","_c","_self","staticClass","on","goBack","_t","_v","goHome","staticRenderFns","name","methods","$route","path","query","type","$router","push","catch","back","component","scopedSlots","_u","key","fn","proxy","directives","rawName","value","userTel","expression","attrs","domProps","$event","target","composing","msgCode","class","isDisable","getShortCode","_s","btn","toNext","components","CommonHeader","TabBar","data","loginRules","rule","msg","waitTime","test","_Toast","res","findTelAPI","console","log","success","params","getCodeAPI","timer","setInterval","setTimeout","clearInterval","userLoginAPI","tel","pwd","request","userPwd","codeLoginAPI","code","RegisterAPI","resetPasswordAPI"],"sourceRoot":""}
"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[76],{7076:function(s,t,e){e.r(t),e.d(t,{default:function(){return v}});var i=function(){var s=this,t=s._self._c;return t("div",{staticClass:"cart container"},[t("header",[t("i",{staticClass:"iconfont icon-31fanhui1 search-return",on:{click:s.goBack}}),t("span",[s._v("购物车")]),t("span",{on:{click:s.isShowNav}},[s._v(s._s(s.isNav?"完成":"编辑"))])]),t("section",[t("div",{staticClass:"cart-title"},[t("van-checkbox",{attrs:{value:s.isSelectedAll},on:{click:function(t){return s.FOLLOW_ALL_CHECK_BTN(s.isSelectedAll)}}}),t("span",[s._v("商品")])],1),t("ul",s._l(s.cartList,(function(e){return t("li",{key:e.id},[t("div",[t("van-checkbox",{model:{value:e.checked,callback:function(t){s.$set(e,"checked",t)},expression:"item.checked"}})],1),t("div",{staticClass:"goods"},[t("div",{staticClass:"good-img"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goods_imgURL,expression:"item.goods_imgURL"}],attrs:{alt:""}})]),t("div",{staticClass:"goods-content"},[t("div",{staticClass:"goods-title"},[t("span",[s._v(s._s(e.goods_name))]),t("i",{staticClass:"iconfont icon-lajitong",on:{click:function(t){return s.DELETE_GOODS({method:0,id:e.id})}}})]),t("div",{staticClass:"goods-price"},[t("p",[s._v("￥"+s._s(e.goods_price))])]),t("div",[t("van-stepper",{attrs:{integer:"",min:"1"},on:{change:function(t){return s.CHANGE_NUM({num:t,item:e})}},model:{value:e.goods_num,callback:function(t){s.$set(e,"goods_num",t)},expression:"item.goods_num"}})],1)])])])})),0),s.cartList.length?s._e():t("div",{staticClass:"nolist"},[s._v("暂未添加商品，去逛逛吧！")])]),t("footer",[t("div",{staticClass:"radio"},[t("van-checkbox",{attrs:{value:s.isSelectedAll},on:{click:function(t){return s.FOLLOW_ALL_CHECK_BTN(s.isSelectedAll)}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!s.isNav,expression:"!isNav"}],staticClass:"total"},[t("div",[s._v(" 共有 "),t("span",{staticClass:"total-active"},[s._v(s._s(s.total.num))]),s._v(" 件商品 ")]),t("div",[t("span",[s._v("总计：")]),t("span",{staticClass:"total-active"},[s._v("￥"+s._s(s.total.price.toFixed(2))+" + 0茶币")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!s.isNav,expression:"!isNav"}],staticClass:"order",on:{click:s.goOrder}},[s._v("去结算")]),t("div",{directives:[{name:"show",rawName:"v-show",value:s.isNav,expression:"isNav"}],staticClass:"order",on:{click:function(t){return s.DELETE_GOODS({method:1,id:"all"})}}},[s._v("删除")])])])},a=[],c=(e(7658),e(1291)),o=e(629),n={name:"CartView",data(){return{isNav:!1}},computed:{...(0,o.rn)({cartList:s=>s.cart.cartList,addressList:s=>s.address.addressList}),...(0,o.Se)(["isSelectedAll","total","selectedList"])},methods:{...(0,o.OI)(["FOLLOW_ALL_CHECK_BTN","INIT_ORDER_ID"]),...(0,o.nv)(["GET_CART_DATA","GET_ADDRESS_DATA","DELETE_GOODS","CHANGE_NUM"]),goBack(){this.$router.back()},isShowNav(){this.isNav=!this.isNav},async goOrder(){if(0===this.total.num)return this.$toast("请选择至少一件商品");let{data:s}=await(0,c.X6)(this.selectedList);s.data.success&&(this.INIT_ORDER_ID(s.data.order_id),this.$router.push({name:"Order"}))}},watch:{addressList(){sessionStorage.setItem("tea-address",JSON.stringify(this.addressList.filter((s=>1==s.isDefault))[0]))}},activated(){this.GET_CART_DATA(),this.GET_ADDRESS_DATA()}},r=n,l=e(1001),d=(0,l.Z)(r,i,a,!1,null,"cbcce9d2",null),v=d.exports}}]);
//# sourceMappingURL=76.fa3d8806.js.map